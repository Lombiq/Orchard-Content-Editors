@using Orchard.ContentManagement
@using Lombiq.ContentEditors.Constants
@using Lombiq.ContentEditors.Models

@{
    var contentItem = Model.ContentItem as ContentItem;
    var asyncEditorPart = contentItem?.As<AsyncEditorPart>();

    if (!(asyncEditorPart?.IsAsyncEditorContext ?? false) || !asyncEditorPart.HasEditorGroups
        || asyncEditorPart.PreviousAuthorizedEditorGroup == null)
    {
        return;
    }

    var previousAuthorizedEditorGroupName = asyncEditorPart.PreviousAuthorizedEditorGroup.Name;
}

@if (asyncEditorPart.PreviousAuthorizedEditorGroup != null)
{
    <div class="asyncEditorPreviousAction js-@ElementNames.AsyncEditorActions.LoadEditorElementName"
         data-editorGroupName="@previousAuthorizedEditorGroupName" title="@T("Go back to {0}", previousAuthorizedEditorGroupName)">
        @(Model.ActionText as string ?? T("Back").Text)
    </div>
}