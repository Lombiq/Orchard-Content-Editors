@using Lombiq.ContentEditors.Constants
@using Lombiq.ContentEditors.Models

@{
    var asyncEditorPart = Model.AsyncEditorPart as AsyncEditorPart;
    var editorGroup = Model.EditorGroup as EditorGroupDescriptor;

    if (asyncEditorPart == null || editorGroup == null)
    {
        return;
    }
}

@{
    var groupElementBuilder = new TagBuilder("div");
    groupElementBuilder.AddCssClass(ElementNames.AsyncEditorGroupListActions.GroupNameElementName);
    groupElementBuilder.Attributes.Add("data-editorGroupName", editorGroup.Name);
    groupElementBuilder.InnerHtml = editorGroup.Title;

    if (asyncEditorPart.CurrentEditorGroup.Equals(editorGroup))
    {
        groupElementBuilder.AddCssClass(ElementNames.AsyncEditorGroupListActions.GroupNameElementNameWithCurrentModifier);
    }

    if (asyncEditorPart.CompletedAuthorizedEditorGroups.Contains(editorGroup))
    {
        groupElementBuilder.AddCssClass(ElementNames.AsyncEditorGroupListActions.GroupNameElementNameWithCompletedModifier);
        groupElementBuilder.AddCssClass("js-" + ElementNames.AsyncEditorActions.LoadEditorElementName);
    }
    else
    {
        groupElementBuilder.AddCssClass(ElementNames.AsyncEditorGroupListActions.GroupNameElementNameWithIncompleteModifier);
    }
}

@Html.Raw(groupElementBuilder.ToString(TagRenderMode.Normal))